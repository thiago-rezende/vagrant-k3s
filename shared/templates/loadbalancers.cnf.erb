[req]
default_bits=2048
distinguished_name=req_distinguished_name
attributes=req_attributes
prompt=no
req_extensions=v3_req

[req_distinguished_name]
countryName=<%= certificate["country_name"] %>
stateOrProvinceName=<%= certificate["state_or_province_name"] %>
localityName=<%= certificate["locality_name"] %>
organizationName=<%= certificate["organization_name"] %>
organizationalUnitName=<%= certificate["organizational_unit_name"] %>
commonName=<%= certificate["common_name"] %>
emailAddress=<%= certificate["email_address"] %>

[req_attributes]

[v3_req]
basicConstraints = CA:FALSE
keyUsage = nonRepudiation, digitalSignature, keyEncipherment
extendedKeyUsage = clientAuth,serverAuth
subjectAltName = @alt_names

[alt_names]
DNS.1 = <%= certificate["common_name"] %>
DNS.2 = *.<%= certificate["common_name"] %>
